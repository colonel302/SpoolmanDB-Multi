<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Finden Sie die neuesten Filament- und Materialdaten für den 3D-Druck.">
    <title>SpoolmanDB-de</title>
    <link rel="stylesheet" href="styles.css">
    <script>
  // Sprache aus URL-Parameter oder Browser ermitteln
  const urlParams = new URLSearchParams(window.location.search);
  let lang = urlParams.get('lang') || navigator.language.split('-')[0].toLowerCase() || 'en';

  // Für Englisch (oder unbekannte Sprache): Standarddateien laden
  let filamentFile = 'filaments.json';
  let materialsFile = 'materials.json'; // materials.json bleibt immer gleich

  // Für andere Sprachen: Sprachdateien laden, falls vorhanden
  if (lang !== 'en') {
      filamentFile = `filaments_${lang}.json`;
      // materialsFile bleibt immer 'materials.json'
  }

  // Lade Filamentdaten
  fetch(filamentFile)
      .then(response => response.json())
      .then(data => {
          // Hier deine Verarbeitung
          console.log("Geladene Filamentdaten:", data);
      })
      .catch(err => {
          console.error(`Fehler beim Laden von ${filamentFile}:`, err);
      });

  // Lade Materialdaten (immer materials.json)
  fetch(materialsFile)
      .then(response => response.json())
      .then(data => {
          // Hier deine Verarbeitung
          console.log("Geladene Materialdaten:", data);
      })
      .catch(err => {
          console.error(`Fehler beim Laden von ${materialsFile}:`, err);
      });
</script>

</head>

<body onload="initLanguage()">
    <header>
        <div class="header-content">
            <picture>
                <img alt="Spoolman Logo"
                    src="https://github.com/Donkie/Spoolman/assets/2332094/4e6e80ac-c7be-4ad2-9a33-dedc1b5ba30e"
                    class="logo">
            </picture>
            <div class="language-switcher">
                <label for="lang-switcher">Sprache:</label>
                <select id="lang-switcher">
                    <option value="de">Deutsch</option>
                    <option value="en">English</option>
                </select>
            </div>
        </div>
    </header>

    <main>
        <h2>Ein Repository mit den neuesten Filament- und Materialdaten für den 3D-Druck.</h2>
        <p>Dieses Projekt ist Open-Source, Sie können gerne einen Pull-Request erstellen <a
                href="https://github.com/colonel302/SpoolmanDB"> auf Github</a> wenn Sie Daten hinzufügen oder ändern möchten.</p>
        <h2>Dateien</h2>
        <div class="data-files">
            <div class="column">
                <ul>
                    <li><a id="materials-link" href="materials.json" data-translate="materials">MATERIALIEN</a></li>
                </ul>
            </div>
            <div class="column">
                <ul>
                    <li><a id="filaments-link" href="filaments.json" data-translate="filaments">FILAMENTE</a></li>
                </ul>
            </div>
        </div>
    </main>

    <footer>
        <p>SpoolmanDB-en - 2025</p>
    </footer>
</body>

</html>
